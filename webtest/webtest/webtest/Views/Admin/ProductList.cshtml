@model List<webtest.Models.Book>

@{
    ViewBag.Title = "ProductList";
    Layout = "~/Views/Shared/_customLayout.cshtml";
}

<head>
    <link href="~/Content/Admin.css" rel="stylesheet" />
</head>

<div id="container">
    <div class="sidenav">
        <a href="@Url.Action("ProductList", "Admin")">Products</a>
        <a href="@Url.Action("User", "Admin")">User accounts</a>
        <a href="@Url.Action("CatagorieStatistics", "Admin")">Statistics</a>
    </div>

    <div id="productBox">
        <div class="title">Product Control Panel</div>
        @{
            using (Html.BeginForm("ProductList", "Admin", FormMethod.Get))
            {
                <input type="text" name="Find" placeholder="Insert title" , value="@Request.QueryString["Find"]" id="inputfieldisbn"><br />
                <button id="btnFind">Find product</button>

            }
        }
        <a href="@Url.Action("Product", "Admin", new {addSession = true})" id="btnAdd">Add new product</a>


        @if (Session["Admin_BookList"] != null)
        {
            if (Model.Count == 0)
            {
                <text>No products found.</text>
            }
            else
            {
                <table id="books">
                    <tr>
                        <th>ISBN</th>
                        <th>Title</th>
                        <th>Author</th>
                        <th>Options</th>
                    </tr>
                    @foreach (var m in Model)
                    {
                        <tr>
                            <td>@m.ISBN</td>
                            <td>@m.Name</td>
                            <td>@m.Author</td>
                            <td>
                                <a id="link ">@Html.ActionLink("View", "Product", "Admin", new { ISBN = m.ISBN }, null)</a>
                                <a id="link ">@Html.ActionLink("Edit", "Product", "Admin", new { ISBN = m.ISBN, edit = true }, null)</a>
                                <a id="link ">@Html.ActionLink("Delete", "ProductList", "Admin", new { ISBN = m.ISBN, delete = true }, new { id = "btnDelete", onclick = "return confirm('Are you sure you want to delete this product?');" })</a>
                            </td>
                        </tr>
                    }
                </table>
            }
        }
    </div>
</div>
